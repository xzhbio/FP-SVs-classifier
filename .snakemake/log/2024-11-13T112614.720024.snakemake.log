Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 52
Rules claiming more threads will be scaled down.
Job stats:
job                    count
-------------------  -------
FPSV_detect                1
all                        1
minimap2                   1
model_check                1
signal_data_prepare        1
total                      5

Select jobs to execute...

[Wed Nov 13 11:26:21 2024]
rule minimap2:
    input: /public/home/xzh/chimera_anlysis/filt_result_v3/gut/all.fastq.gz, /public/home/xzh/reference/gut.fasta
    output: test/align.paf
    jobid: 1
    reason: Code has changed since last execution
    wildcards: out_dir=test
    resources: tmpdir=/tmp

[Wed Nov 13 11:29:30 2024]
Finished job 1.
1 of 5 steps (20%) done
Select jobs to execute...

[Wed Nov 13 11:29:30 2024]
rule FPSV_detect:
    input: test/align.paf
    output: test/hairpin.paf
    jobid: 4
    reason: Input files updated by another job: test/align.paf
    wildcards: out_dir=test
    resources: tmpdir=/tmp

[Wed Nov 13 11:30:08 2024]
Finished job 4.
2 of 5 steps (40%) done
Select jobs to execute...

[Wed Nov 13 11:30:08 2024]
rule signal_data_prepare:
    input: /public/home/xzh/../public-data/20240409-zymoGUTgenome/no_sample/20240409_1345_MN20987_FAX30441_7411df2a/fast5_pass, test/hairpin.paf
    output: test/hairpin.npy
    jobid: 3
    reason: Missing output files: test/hairpin.npy; Input files updated by another job: test/hairpin.paf
    wildcards: out_dir=test
    resources: tmpdir=/tmp

[Wed Nov 13 11:34:23 2024]
Finished job 3.
3 of 5 steps (60%) done
Select jobs to execute...

[Wed Nov 13 11:34:23 2024]
rule model_check:
    input: test/hairpin.npy
    output: test/FP-SVs_reads_id.txt
    jobid: 2
    reason: Missing output files: test/FP-SVs_reads_id.txt; Input files updated by another job: test/hairpin.npy
    wildcards: out_dir=test
    resources: tmpdir=/tmp

[Wed Nov 13 11:34:35 2024]
Error in rule model_check:
    jobid: 2
    input: test/hairpin.npy
    output: test/FP-SVs_reads_id.txt
    shell:
        python script/signal_classify_ResNet.py --load pretrain_model/ResNet_micro_all.pth --external test/hairpin.npy --output test/FP-SVs_reads_id.txt --cuda 0
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-11-13T112614.720024.snakemake.log
